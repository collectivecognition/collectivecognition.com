<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0  Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11">

<title> Mock Http Backends In Angular |  Collective Cognition</title>

<meta http-equiv="content-type" content="application/xhtml+xml; charset=utf-8" />
<meta name="robots" content="index, follow" />
<meta charset=utf-8 />

<meta name="description" content="Collective Cognition designs and develops engaging web and mobile experiences." />
<meta name="keywords" content="collective, cognition, web, design, development, css, html, javascript, site, mobile, apps, apple, iphone, ios" />
<meta name="author" content="William Blanchette, Collective Cognition" />

<script type="text/javascript" src="/js/highlight.min.js"></script>
<script type="text/javascript" src="/js/shadowbox-inlined-min.js"></script>
<script type="text/javascript">
	Shadowbox.init();
	hljs.initHighlightingOnLoad();
</script>

<link rel="shortcut icon" href="/favicon.gif" />
<link rel="alternate" type="application/rss+xml" title="Collective Cognition Blog" href="http://collectivecognition.com/feed" />
<link rel="stylesheet" href="/css/style.css" media="screen,projection" type="text/css" />

<!--<link rel="alternate" href="http://collectivecognition.com/feed/" title="RSS Feed" type="application/rss+xml" />-->

<link href="https://plus.google.com/112066706442483184529/" rel="publisher" />

<body>

	<div id='wrapper'>
	
		<div class="bar light">
			<div class="container">
				<div id="content">
							<div class='page blog top'>
			
			<div class='header'>
			
								<a href='http://collectivecognition.com' id='logo'>Collective Cognition</a>
								
				<div id='menu'>
				
					<a href='/'>blog</a>
					<a href='/web'>web</a>
					<a href='/games'>games</a>
					<a href='/apps'>ios</a>
					<a href='http://github.com/collectivecognition?tab=repositories'>github</a>
					
				</div>
				
			</div>
			<div class='background'>
			
				<div class='content'>
					
					<h2>Mock Http Backends In Angular</h2>
					<h4>Posted on 04 February 2014 by William Blanchette</h4>
					
					<p>
					<p>A quick introduction to implementing mock-HTTP backends in angular.js, a great technique that can help development in the absense of a backend, offline development, end-to-end testing and more.</p>

<p>Include both <code>angular</code> and the <code>angular-mocks</code> library:</p>

<pre><code>&lt;script src=&quot;js/lib/angular.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;js/lib/angular-mocks.js&quot;&gt;&lt;/script&gt;</code></pre>

<p>Bootstrap your application and conditionally inject <code>angular-mocks</code> into your application module. I like to configure things this way to allow easily switching between live and mock backends when developing, testing, etc..</p>

<pre><code>CONFIG = {
    useMocks: true
};

var yourApp = angular.module(&quot;YourApp&quot;, [CONFIG.useMocks ? &quot;ngMockE2E&quot; :function(){ }]);</code></pre>

<p>Now, letâ€™s intercept some HTTP requests!</p>

<pre><code>yourApp.run([&quot;$httpBackend&quot;, function($httpBackend){
    if(CONFIG.useMocks){

        // Respond to requests to `/foo` with `{&quot;foo&quot;: &quot;bar&quot;}`:

        $httpBackend.whenGET(/^\/foo$/).respond(function(method, uri, body){
                return [200, {
                    foo: bar
                }];
            });

        // Respond to requests to `/foo/BAR` with `{&quot;foo&quot;: &quot;BAR&quot;}`:
        // Also throw an exception if the passed value is too short

        $httpBackend.whenGET(/^\/foo\/\w+$/).respond(function(method, uri, body){
            body = JSON.parse(body);
            
            if(body.foo.length &gt; 2){
                return [200, {
                    foo: body.foo
                }];
            }

            return [500, &quot;There was an error!&quot;];
        });
    }
}]);</code></pre>
					</p>
				
				</div>
			
			</div>
			<div class='footer'>
			</div>
			<div id="post-nav">
				<div class="nav-older"><a href="/blog/cancelling-outstanding-http-requests-in-angular">&lt; Previous</a></div>
				
			</div>
				</div>
			</div>
		</div>
		
		<div id='footer'>&copy; 2014 Collective Cognition, all rights reserved - <a href="http://collectivecognition.com/feed">RSS Feed</a></div>

	</div>

</body>

</html>