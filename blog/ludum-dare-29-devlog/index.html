<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0  Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11">

<title> Ludum Dare 29 Devlog |  Collective Cognition</title>

<meta http-equiv="content-type" content="application/xhtml+xml; charset=utf-8" />
<meta name="robots" content="index, follow" />
<meta charset=utf-8 />

<meta name="description" content="Collective Cognition designs and develops engaging web and mobile experiences." />
<meta name="keywords" content="collective, cognition, web, design, development, css, html, javascript, site, mobile, apps, apple, iphone, ios" />
<meta name="author" content="William Blanchette, Collective Cognition" />

<script type="text/javascript" src="/js/highlight.min.js"></script>
<script type="text/javascript" src="/js/shadowbox-inlined-min.js"></script>
<script type="text/javascript">
	Shadowbox.init();
	hljs.initHighlightingOnLoad();
</script>

<link rel="shortcut icon" href="/favicon.gif" />
<link rel="alternate" type="application/rss+xml" title="Collective Cognition Blog" href="http://collectivecognition.com/feed" />
<link rel="stylesheet" href="/css/style.css" media="screen,projection" type="text/css" />

<!--<link rel="alternate" href="http://collectivecognition.com/feed/" title="RSS Feed" type="application/rss+xml" />-->

<link href="https://plus.google.com/112066706442483184529/" rel="publisher" />

<body>

	<div id='wrapper'>
	
		<div class="bar light">
			<div class="container">
				<div id="content">
					

<div class='page blog white top'>
	<div class='header'>
						<a href='http://collectivecognition.com' id='logo'>Collective Cognition</a>
								
				<div id='menu'>
				
					<a href='/'>blog</a>
					<a href='/web'>web</a>
					<a href='/games'>games</a>
					<!--<a href='/apps'>ios</a>-->
					<a href='http://github.com/collectivecognition?tab=repositories'>github</a>
					
				</div>
	</div>
	<div class='background'>
		<div class='content'>
			<h2>Ludum Dare 29 Devlog</h2>
			<h4>Posted on 25 April 2014 by William Blanchette</h4>
			<p><h2 id="pm-initial-ideas">9:05PM: Initial Ideas</h2>

<p>The theme is Beneath The Surface. My initial thoughts:</p>

<ul>
  <li>Asteroid mining (something like Dig Dug or Mr Driller?)</li>
  <li>Ocean exploration (fishing?)</li>
  <li>Oil drilling (a puzzle game maybe?)</li>
  <li>Peeling vegetables (could be a good use of touch controls!)</li>
  <li>Exploring the human psyche (psychologist simulator?)</li>
  <li>Crypt / tombs / catacombs (filling up with water maybe?)</li>
  <li>Mine carts (procedurally generated tunnels?)</li>
</ul>

<h2 id="pm-choosing-an-idea">9:22PM: Choosing An Idea</h2>

<p>There were a lot of space-type themes in the final list so I was already thinking along these lines before the final theme was chosen.</p>

<p>I think I have to go with asteroid mining. I’m imagining something like a combination of Lunar Lander and the classic Asteroids. Unity should be able to handle most of the physics “heavy lifting” and as long as I stick to a simple graphical style, I think I might be able to pull this off.</p>

<p>Some initial thoughts:</p>

<ul>
  <li>I want this to work on mobile devices, so touch-friendly controls are a must. </li>
  <li>I’d like travel between asteroids to be zoomed out, with the camera zooming in for landing</li>
  <li>Parallax stars would be cool for the background</li>
</ul>

<p>Time to start coding!</p>

<h2 id="pm-basic-physics--controls">10:22PM: Basic Physics / Controls</h2>

<p>I’ve got a placeholder ship sprite and a basic newtonian physics control setup which allows attitude adjustment (rotation) forward / reverse thrust and velocity clamping to keep things sane.</p>

<pre><code>using UnityEngine;
using System.Collections;

public class ShipControls : MonoBehaviour {
	private float rotatationSpeed = 100.0f;
	private float acceleration = 2.0f;
	private float thrust = 0.0f;
	private float maxVelocity = 2.0f;

	void Update(){
		transform.Rotate (Vector3.forward * (-Input.GetAxis("Horizontal") * rotatationSpeed * Time.deltaTime) ); 

		float inputThrust = Input.GetAxis("Vertical");
		thrust += inputThrust * acceleration;

		Vector3 newForce = Vector3.up * thrust * Time.deltaTime;
		Vector3 relativeForce = transform.InverseTransformDirection(newForce);
		rigidbody2D.AddForce(new Vector2(relativeForce.x * -1f, relativeForce.y));

		rigidbody2D.velocity = Vector3.ClampMagnitude(rigidbody2D.velocity, maxVelocity);

		Debug.DrawLine (transform.position, transform.position + Vector3.up * 2f, Color.red);
	}

	void OnGUI(){
		GUI.Label(new Rect(10, 10, 100, 25), "Thrust: " + thrust);
	}
}
</code></pre>

<p><a href="/images/blog/original/ludum-dare-29-1.jpg" rel="shadowbox"><img src="/images/blog/thumbnails/ludum-dare-29-1.jpg" /></a></p>

<h2 id="pm-wrestling-with-blog">10:40PM: Wrestling With Blog</h2>

<p>Grr! My blog publishing scripts are giving me trouble. Mental note: sort this sort of thing out BEFORE the compo next time.</p>

<h2 id="pm-so-very-tired">11:05PM: So Very Tired</h2>

<p>I’ve done some more “miner” tweaking, but as it’s been a very long day and I’m having trouble keeping my eyes open, I think I’ll get some sleep and hit the ground running in the morning.</p>

<p>A few notes on my current thoughts for the direction of the game:</p>

<ul>
  <li>Randomly place asteroids around level</li>
  <li>Place “ore” nuggets randomly within asteroids</li>
  <li>Ship must fly by and scan for these ore nuggest</li>
  <li>After locating an ore nugget, player must land on asteroid surface perpendicular to nugget and drill straight down to retrieve it</li>
</ul>

<h2 id="am-wakey-wakey">6:68AM: Wakey Wakey</h2>

<p>My significant other had a brilliant idea in her dreams: Beaneath the Surfers, a game about surfers avoiding being eaten by sharks. If only LD was twice as long!</p>

<p>Back to work :D</p>

<h2 id="am-camera">8:07AM: Camera</h2>

<p>I’ve made a bit of progress with an auto-zooming camera that makes sure you can always see at least one asteroid. It’s glitchy, but basically functional so I’m going to shift gears and work on some scanning code.</p>

<pre><code>public class Asteroid : MonoBehaviour {
	public bool IsVisible(){
		Vector3 viewPos = Camera.main.WorldToViewportPoint(transform.position);

		if(viewPos.x &lt; 0 || viewPos.x &gt; 1 || viewPos.y &lt; 0 || viewPos.y &gt; 1){
			return false;
		}

		return true;
	}
}
</code></pre>

<h2 id="am-scanner">9:20AM: Scanner</h2>

<p>I have a basic scanner system in place. Scanner is triggered by holding down the mouse button and then aimed with the mouse. Ore that is “scanned” will become visible.</p>

<p><a href="/images/blog/original/ludum-dare-29-2.jpg" rel="shadowbox"><img src="/images/blog/thumbnails/ludum-dare-29-2.jpg" /></a></p>

<h2 id="am-level-generation">10:40AM: Level Generation</h2>

<p>Lots of tweaks / additions in the last hour.</p>

<ul>
  <li>Implemented a basic level generator that places asteroids and adds ore to them.</li>
  <li>Re-wrote camera zooming system to simply toggle between zoom levels based on the distance the closest asteroid. This works MUCH better than the more elaborate system.</li>
  <li>Tweaked ship controls to make the physics more manageable.</li>
</ul>

<p>The next task will be adding support for landing on asteroids (and destroying the ship if you come in too fast / upside down /etc..), which is probably going to be one of the trickiest bits of code in the game.</p>

<p>All in all, things are progressing nicely and I have decent confidence I’ll be able to finish SOMETHING to submit tomorrow.</p>

<p><a href="/images/blog/original/ludum-dare-29-3.jpg" rel="shadowbox"><img src="/images/blog/thumbnails/ludum-dare-29-3.jpg" /></a></p>

<h2 id="am-lunch-break">11:32:AM: Lunch Break!</h2>

<p>I got a little distracted and added animated thrusters to indicate the direction / intensity of thrust and also tweaked the physics a bit.</p>

<p>Most of the core mechanics are in place, except “mining” the ore and collisions, so I think this is a good stopping point to take a break and go grab some lunch.</p>

<p><a href="/images/blog/original/ludum-dare-29-4.jpg" rel="shadowbox"><img src="/images/blog/thumbnails/ludum-dare-29-4.jpg" /></a></p>
</p>
		</div>
	</div>
	<div id="footer">
		<div class="nav-older"><a href="/blog/awesome-screenshots-in-awesomewm">&laquo; Previous Post</a></div>
		
		<span class="copyright">&copy; 2014 Collective Cognition, all rights reserved - <a href="http://collectivecognition.com/feed">RSS Feed</a></div>
	</div>
</div>
				</div>
			</div>
		</div>

	</div>

</body>

</html>