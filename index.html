<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0  Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11">

<base href="http://collectivecognition.com"/>

<title> Collective Cognition</title>

<meta http-equiv="content-type" content="application/xhtml+xml; charset=utf-8" />
<meta name="robots" content="index, follow" />
<meta charset=utf-8 />

<meta name="description" content="Collective Cognition designs and develops engaging web and mobile experiences." />
<meta name="keywords" content="collective, cognition, web, design, development, css, html, javascript, site, mobile, apps, apple, iphone, ios" />
<meta name="author" content="William Blanchette, Collective Cognition" />

<script type="text/javascript" src="/js/shadowbox-inlined-min.js"></script>
<script type="text/javascript">Shadowbox.init();</script>

<link rel="shortcut icon" href="/favicon.ico" />
<link rel="alternate" type="application/rss+xml" title="Collective Cognition Blog" href="http://collectivecognition.com/feed" />
<link rel="stylesheet" href="/css/style.css" media="screen,projection" type="text/css" />

<!--<link rel="alternate" href="http://collectivecognition.com/feed/" title="RSS Feed" type="application/rss+xml" />-->

<link href="https://plus.google.com/112066706442483184529/" rel="publisher" />

<body>

	<div id='wrapper'>
	
		<div class="bar light">
			<div class="container">
				<div id="content">
							<div class='page white top'>

			<div class='header'>

								<a href='http://collectivecognition.com' id='logo'>Collective Cognition</a>
								
				<div id='menu'>
				
					<a href='/'>blog</a>
					<a href='/web'>web</a>
					<a href='/games'>games</a>
					<a href='/apps'>ios</a>
					<a href='http://github.com/collectivecognition?tab=repositories'>github</a>
					
				</div>

			</div>
			<div class='background'>

				<div class='content'>

					<h2>Cancelling Outstanding Http Requests In Angular</h2>
					<h4><em>Posted on 13 January 2014 by William Blanchette</em></h4>

					<p>
					<p>While working on an angular.js project recently I ran into issues with long running http requests initiated by controllers that had since been destroyed causing subsequent requests to be delayed until they completed. To further complicate things, each browser support a different number of concurrent http requests, so behavior can is often erratic.</p>

<p>In a traditional web application, these requests would be destroyed by the browser when navigating to a new page, but in a single page web application no such cleanup happens and we’re left to handle things on our own.</p>

<p>Luckily a recent build of angular added support for cancelling of outstanding $http requests via the <code>timeout</code> options.</p>

<p>Here’s a quick example implementation that demonstrates cancelling multiple outstanding $http requests when the controller is destroyed (such as when navigating to a new view):</p>

<pre><code>angular.module(&quot;App&quot;).
    controller(&quot;SomeCtrl&quot;, [&quot;$scope&quot;, $http&quot;, $q&quot;, function($scope, $http, $q){
        // Initiate a long running http request
        $http.get(&quot;http://example.com/endpoint&quot;, {timeout: $scope.canceler.promise});

        // And another one
        $http.get(&quot;http://example.com/another_endpoint&quot;, {timeout: $scope.canceler.promise});

        // Wait for the controller to be destroyed
        $scope.$on(&quot;$destroy&quot;, function(){
            // Cancel all outstanding $http requests
            // Multiple requests can share the same timeout promise
            $scope.canceler.resolve();
        });
    }]);</code></pre>
					</p>

				</div>

			</div>
			<div class='footer'>
			</div>
			<div id="post-nav">
				<div class="nav-older"><a href="/blog/VR-City">&lt; Previous</a></div>
				
			</div>
				</div>
			</div>
		</div>
		
		<div id='footer'>&copy; 2014 Collective Cognition, all rights reserved - <a href="http://collectivecognition.com/feed">RSS Feed</a></div>

	</div>

</body>

</html>